{% extends 'layout/basic.html' %}
{% load static %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="{% static 'main/styles/login_style.css' %}">
{% endblock %}

{% block title %}Регистрация{% endblock %}

{% block content %}
{% if user.is_authenticated %}
<h2 class="register">Для начала выйдите из аккаунта</h2>
{% else %}
<form method='post' enctype="multipart/form-data">
	{% csrf_token %}
	<h2>Регистрация</h2>
	<!-- {% for field in form.visible_fields %}
		<div class="wrapper-field">
			<div class="field">{{ field }}</div>
			<div class="label">{{ field.label }}</div>
			{% if field.errors %}
				{% for error in field.errors %}
				<p class="error-message">{{error}}</p>
				{% endfor %}
			{% endif %}
		</div>
	{% endfor %} -->

	<div class="wrapper-field">
		<div class="field">{{ form.username }}</div>
		<div class="label">{{ form.username.label }}</div>
		{% if form.username.errors %}
			{% for error in form.username.errors %}
			<p class="error-message">{{error}}</p>
			{% endfor %}
		{% endif %}
	</div>
	<div class="wrapper-field">
		<div class="field">{{ form.password1 }}</div>
		<div class="label">{{ form.password1.label }}</div>
		{% if form.password1.errors %}
			{% for error in form.password1.errors %}
			<p class="error-message">{{error}}</p>
			{% endfor %}
		{% endif %}
	</div>
	<div class="wrapper-field">
		<div class="field">{{ form.password2 }}</div>
		<div class="label">{{ form.password2.label }}</div>
		{% if form.password2.errors %}
			{% for error in form.password2.errors %}
			<p class="error-message">{{error}}</p>
			{% endfor %}
		{% endif %}
	</div>
	<div class="wrapper-field">
		<div class="field">{{ form.first_name }}</div>
		<div class="label">{{ form.first_name.label }}</div>
		{% if form.first_name.errors %}
			{% for error in form.first_name.errors %}
			<p class="error-message">{{error}}</p>
			{% endfor %}
		{% endif %}
	</div>
	<div class="wrapper-field">
		<div class="field">{{ form.last_name }}</div>
		<div class="label">{{ form.last_name.label }}</div>
		{% if form.last_name.errors %}
			{% for error in form.last_name.errors %}
			<p class="error-message">{{error}}</p>
			{% endfor %}
		{% endif %}
	</div>
	<div class="wrapper-field">
		<div>{{ form.image }}</div>
		<div class="label">{{ form.image.label }}</div>
		{% if form.image.errors %}
			{% for error in form.image.errors %}
			<p class="error-message">{{error}}</p>
			{% endfor %}
		{% endif %}
	</div>

	<input type="submit" value="Зарегестрироваться" class="btn">
</form>
{% endif %}
{% endblock %}